{% extends "bootstrap/base.html" %}

{% from "bootstrap/utils.html" import flashed_messages %}

{% block title %}Dueling {{opponent}}{% endblock %}

{% block navbar %}
{% include 'navbar.html' %}
{% endblock %}

{% block content %}
<h1 class="text-center">versus {{opponent}}: {{cardbox_name}}</h1>

{{flashed_messages(container=True)}}

<div class="container">
    {% if last_choice == card['correct_answer'] %}
    <h2>Your answer <span class="text-success font-weight-bold">{{last_choice_letter}})</span> is <span class="text-success font-weight-bold">correct</span>!</h2>
    {% else %}
    <h2>Your answer <span class="text-danger font-weight-bold">{{last_choice_letter}})</span> is <span class="text-danger font-weight-bold">not
            correct</span>!</h2>
    {% endif %}
</div>

<div class="container">
    <h2>Question No. {{card_number}}/{{cardbox_size}}:</h2>
    <h3>&nbsp;&nbsp;{{num_correct_answers}}/{{card_number}} correct answers</h3>

    <h3 class="text-info">Q: {{card['question']}}</h3>
    <br>
    <div>
        <button class="btn {% if 0 == card['correct_answer']%}btn-success{% else %}btn-danger{% endif %} btn-block btn-lg">a)&nbsp;{{card['answers'][0]}}</button>
        <br>
        <button class="btn {% if 1 == card['correct_answer']%}btn-success{% else %}btn-danger{% endif %} btn-block btn-lg">b)&nbsp;{{card['answers'][1]}}</button>
        <br>
        <button class="btn {% if 2 == card['correct_answer']%}btn-success{% else %}btn-danger{% endif %} btn-block btn-lg">c)&nbsp;{{card['answers'][2]}}</button>
    </div>
    <hr>
    <a href="{{url_for('duel', _id=cardbox_id)}}" class="btn btn-info btn-md" role="button">Next</a>

    <h3 class="text-info">Explanation:</h3>
    <h3 class="text-info">{{card['explanation']}}</h3>
    <hr>
    <a href="{{url_for('duel', _id=cardbox_id)}}" class="btn btn-info btn-md" role="button">Next</a>
</div>
{% endblock %}